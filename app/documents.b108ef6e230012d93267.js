!function(e){function t(t){for(var a,i,c=t[0],l=t[1],s=t[2],u=0,f=[];u<c.length;u++)i=c[u],o[i]&&f.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(d&&d(t);f.length;)f.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={0:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var d=l;r.push([0,1]),n()}({"/KVF":function(e,t,n){var a={"./en":"7dT6","./en.json":"7dT6"};function o(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id="/KVF"},"/kYV":function(e,t,n){},0:function(e,t,n){n("201c"),n("7NIr"),e.exports=n("LiWt")},"7dT6":function(e){e.exports={}},CFNN:function(e,t){e.exports="/img/doc.2e225c0e95fc43bba6e6f3038dc237e5.svg"},LiWt:function(e,t,n){"use strict";n.r(t);n("/kYV");var a,o=n("q1tI"),r=n.n(o),i=n("SH7X"),c=n.n(i),l=n("i8i4"),s=n("XOpu"),d=n("LxW6"),u=n("irU9"),f=function(e,t){return/^\{\{\.[a-zA-Z]*\}\}$/.test(e)?t:e};document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("[role=application]").dataset,t=f(e.cozyIconPath,n("CFNN")),o=f(e.cozyAppNamePrefix||n("pZg0").name_prefix,""),_=f(e.cozyAppName,n("pZg0").name),m=f(e.cozyAppSlug,n("pZg0").slug),b=f(e.cozyAppVersion,n("pZg0").version);a=f(e.cozyLocale,"en");var p=window.location?window.location.protocol:"https:",x=new c.a({uri:"".concat(p,"//").concat(e.cozyDomain),token:e.cozyToken,schema:d.b,appMetadata:{slug:m,version:b}});cozy.bar.init({appName:_,appNamePrefix:o,iconPath:t,lang:a,replaceTitleOnMobile:!0}),Object(u.c)(x),function(e){var t=n("pL5B").default;Object(l.render)(r.a.createElement(s.b,{lang:a,dictRequire:function(e){return n("/KVF")("./".concat(e))}},r.a.createElement(i.CozyProvider,{client:e},r.a.createElement(t,null))),document.querySelector("[role=application]"))}(x)})},LxW6:function(e,t,n){"use strict";var a=n("o0o1"),o=n.n(a),r=n("q1tI"),i=n.n(r),c=n("V2U0"),l=n("SH7X"),s=n("vEVt"),d=n("y6ex"),u=n("ndS0"),f=n("KXWi"),_=n("n5s8"),m=n.n(_),b=n("kyGY"),p=n("wIs1"),x=n("xk4V"),h=n.n(x),j=n("VPDz"),v="io.cozy.office.documents",y=n("irU9");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t,n,a,o,r,i){try{var c=e[r](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,o)}function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){function t(e,n){var a,r,i,c,l,s,d,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=O(t).call(this,e,n),a=!i||"object"!==w(i)&&"function"!=typeof i?k(r):i,s=k(a),d="handleClick",c=o.a.mark(function e(t){var n,r,i,c,l,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState(function(){return{isWorking:!0}}),n=h()(),r=t.target,i=function e(t){if(t&&"HTML"!==t.nodeName)return t.dataset.ext?t:e(t.parentNode);throw new Error("Can't find a button target")}(r),e.next=7,Object(y.a)(n,i.dataset.ext);case 7:return c=e.sent,e.next=10,a.props.client.create(v,c);case 10:return l=e.sent,s=l.data,a.setState(function(){return{isWorking:!1}}),e.next=15,Object(y.b)(s);case 15:window.location=e.sent;case 16:case"end":return e.stop()}},e,this)}),l=function(){var e=this,t=arguments;return new Promise(function(n,a){var o=c.apply(e,t);function r(e){g(o,n,a,r,i,"next",e)}function i(e){g(o,n,a,r,i,"throw",e)}r(void 0)})},u=function(e){return l.apply(this,arguments)},d in s?Object.defineProperty(s,d,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[d]=u,a.state={isWorking:!1},a}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.state.isWorking;return i.a.createElement("div",null,i.a.createElement(j.a,{onClick:this.handleClick,type:"submit",busy:e,icon:"plus","data-ext":"docx",label:"ajouter un document",extension:"narrow"}))}}])&&E(n.prototype,a),c&&E(n,c),t}(),P=Object(l.withClient)(Object(p.a)(N)),S=n("nDZM"),C=function(e){return i.a.createElement("header",{className:"page-header-menu "+(e.className||"")},i.a.createElement("div",{className:"page-header-menu--left"},e.left),e.children,i.a.createElement("div",{className:"page-header-menu--right"},e.right))},F=n("4BeY"),D=n.n(F),M=n("IaFt"),L=n.n(M),T=new D.a({id:"doc_2e225c0e95fc43bba6e6f3038dc237e5",use:"doc_2e225c0e95fc43bba6e6f3038dc237e5-usage",viewBox:"0 0 26 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 32" id="doc_2e225c0e95fc43bba6e6f3038dc237e5"><g fill="none" fill-rule="evenodd" transform="translate(-3)"><g transform="translate(3)"><g stroke="#65A6FF"><path fill="#FFFFFF" d="M25.5 7.2L18.8.5H2C1.17.5.5 1.17.5 2v28c0 .83.67 1.5 1.5 1.5h22c.83 0 1.5-.67 1.5-1.5V7.2z" /><polyline fill="#65A6FF" points="18.5 .5 18.5 7.5 25.5 7.5" /></g><path fill="#197BFF" d="M6 11h14v2H6v-2zm0 4h12v2H6v-2zm0 4h14v2H6v-2zm0 4h10v2H6v-2z" /></g><g transform="translate(3)"><path fill="#B2D3FF" d="M0 2C0 .9.9 0 2 0h17l7 7v23a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" /><path fill="#65A6FF" stroke="#65A6FF" d="M18.86.86c-.2-.2-.36-.13-.36.14v6.5H25c.27 0 .34-.16.14-.36L18.86.86z" /><path fill="#197BFF" d="M18.5 0a.5.5 0 0 0-.5.5V8h7.5a.5.5 0 0 0 .5-.5V7l-7-7h-.5zM6 11h14v2H6v-2zm0 4h12v2H6v-2zm0 4h14v2H6v-2zm0 4h10v2H6v-2z" /></g></g></symbol>'}),U=(L.a.add(T),T);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t,n,a,o,r,i){try{var c=e[r](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,o)}var q=function(e){var t=Object(r.useCallback)(function(){var t,n=(t=o.a.mark(function t(n){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,Object(y.b)(e.doc);case 3:a=t.sent,document.location=a;case 5:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(a,o){var r=t.apply(e,n);function i(e){B(r,a,o,i,c,"next",e)}function c(e){B(r,a,o,i,c,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),[e.doc.id,e.doc.title]);return i.a.createElement("div",{className:"doc-item"},i.a.createElement(d.a,{icon:U,width:32,height:32,className:"doc-icon"}),i.a.createElement("a",{onClick:t,className:"doc-link"},i.a.createElement(s.a,{primaryText:Object(S.a)(e.doc),secondaryText:"/Documents/2019/demo"})))},H=Object(l.withClient)(function(e){var t=Object(r.useCallback)(function(){var t=window.prompt("Nouveau nom",Object(S.a)(e.doc));e.client.save(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){A(e,t,n[t])})}return e}({},e.doc,{title:t}))}),n=Object(r.useCallback)(function(){e.client.destroy(e.doc)});return i.a.createElement(u.a,{component:i.a.createElement(f.a,{theme:"action",extension:"narrow",icon:i.a.createElement(d.a,{icon:"dots",color:"coolGrey",width:"17",height:"17"}),iconOnly:!0,label:"actions"})},i.a.createElement(m.a,{onClick:t},"Renommer"),i.a.createElement(m.a,{onClick:n},"Supprimer"))}),V=function(e){var t=new Date(e.doc.cozyMetadata.updatedAt).toLocaleDateString(void 0,{day:"numeric",month:"long",year:"numeric"});return i.a.createElement("tr",{className:"c-table-row"},i.a.createElement("th",{className:"c-table-cell c-table-cell--primary"},i.a.createElement(q,e)),i.a.createElement("td",{className:"c-table-cell"},i.a.createElement("time",{datatime:e.doc.cozyMetadata.updatedAt},t)),i.a.createElement("td",{className:"c-table-cell"}," — "),i.a.createElement("td",{className:"c-table-cell"},i.a.createElement(H,e)))},I=function(e){var t=e.docs;return t&&t.length?i.a.createElement("table",{className:"docs-list c-table"},i.a.createElement("thead",{className:"c-table-head"},i.a.createElement("tr",{className:"c-table-row-head"},i.a.createElement("th",{className:"c-table-header"},"Nom"),i.a.createElement("th",{className:"c-table-header"},"Dernière mise à jour"),i.a.createElement("th",{className:"c-table-header"},"Partages"),i.a.createElement("th",{className:"c-table-header"}))),i.a.createElement("tbody",null,t.map(function(e){return i.a.createElement(V,{key:e._id,doc:e})}))):null},Z=Object(l.queryConnect)({docs:{query:function(e){return e.find(v).where({}).sortBy({"cozyMetadata.updatedAt":"desc"})},as:"docs"}})(function(e){var t=e.docs,n=t.data,a=t.fetchStatus,o="loading"===a||"pending"===a;return i.a.createElement("div",{className:"docs docs-list-container"},o?i.a.createElement(c.a,{size:"xxlarge",middle:!0}):i.a.createElement("div",null,i.a.createElement(C,{left:i.a.createElement(b.b,{tag:"h1"},"Mes documents"),right:i.a.createElement(P,null)}),i.a.createElement(I,{docs:n})))}),W={docs:{doctype:v,doctypeVersion:1,attributes:{},relationships:{}}};n.d(t,"a",function(){return Z}),n.d(t,"b",function(){return W})},irU9:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"b",function(){return _}),n.d(t,"a",function(){return b});var a=n("o0o1"),o=n.n(a),r=n("nDZM");function i(e,t,n,a,o,r,i){try{var c=e[r](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var r=e.apply(t,n);function c(e){i(r,a,o,c,l,"next",e)}function l(e){i(r,a,o,c,l,"throw",e)}c(void 0)})}}var l,s="https://manage.poc-onlyoffice.cozycloud.cc";function d(e){return u.apply(this,arguments)}function u(){return(u=c(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l||(l=t.getStackClient().fetchJSON("GET","/settings/instance").then(function(e){return e&&e.data&&e.data.attributes&&e.data.attributes.public_name||f()})),e.abrupt("return",l);case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function f(){return location.hostname.replace(/[-.].*/,"")}function _(e){return m.apply(this,arguments)}function m(){return(m=c(o.a.mark(function e(t){var n,a,i,c,l,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=f(),a=t.fileName,i=location.toString(),c=n,e.next=6,d();case 6:return l=e.sent,u=Object(r.a)(t)+"."+t.ext,"fr",e.abrupt("return","".concat(s,"/editor?fileName=").concat(encodeURIComponent(a),"&title=").concat(encodeURIComponent(u),"&lang=").concat("fr","&backUrl=").concat(encodeURIComponent(i),"&name=").concat(encodeURIComponent(l),"&userid=").concat(c));case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function b(e,t){return p.apply(this,arguments)}function p(){return(p=c(o.a.mark(function e(t,n){var a,r,i,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=f(),r="".concat(s,"/create?ext=").concat(n,"&file=").concat(t,"&instance=").concat(a),e.next=4,fetch(r,{method:"POST",mode:"cors"});case 4:if((i=e.sent).ok){e.next=7;break}throw new Error("couldn't create a new document from server");case 7:return e.next=9,i.json();case 9:return c=e.sent,e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},nDZM:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=function(e){var t=e&&e.cozyMetadata&&e.cozyMetadata.createdAt;return t?"Document sans titre du ".concat(new Date(t).toLocaleString()):null},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return e.title||(t instanceof Function?t(e):t)}},nw0P:function(e,t,n){var a={"./_lib/build_formatting_tokens_reg_exp/index.js":"kOWh","./ar/build_distance_in_words_locale/index.js":"XxX6","./ar/build_format_locale/index.js":"alis","./ar/index.js":"EDRf","./be/build_distance_in_words_locale/index.js":"LQ09","./be/build_format_locale/index.js":"kj7F","./be/index.js":"YEhR","./bg/build_distance_in_words_locale/index.js":"7K3h","./bg/build_format_locale/index.js":"RrdL","./bg/index.js":"isx8","./ca/build_distance_in_words_locale/index.js":"wqqj","./ca/build_format_locale/index.js":"qcV0","./ca/index.js":"Vwa+","./cs/build_distance_in_words_locale/index.js":"ZKDM","./cs/build_format_locale/index.js":"ipyF","./cs/index.js":"dvhP","./da/build_distance_in_words_locale/index.js":"2Mgc","./da/build_format_locale/index.js":"Gned","./da/index.js":"7ur/","./de/build_distance_in_words_locale/index.js":"5IWf","./de/build_format_locale/index.js":"THCn","./de/index.js":"bgw5","./el/build_distance_in_words_locale/index.js":"o/GB","./el/build_format_locale/index.js":"8T9h","./el/index.js":"dH0v","./en/build_distance_in_words_locale/index.js":"LZbM","./en/build_format_locale/index.js":"6DAA","./en/index.js":"Us+F","./eo/build_distance_in_words_locale/index.js":"qrnn","./eo/build_format_locale/index.js":"Bl15","./eo/index.js":"UB7v","./es/build_distance_in_words_locale/index.js":"GEfZ","./es/build_format_locale/index.js":"O+zC","./es/index.js":"/S0t","./fi/build_distance_in_words_locale/index.js":"VHtQ","./fi/build_format_locale/index.js":"Oydx","./fi/index.js":"ndVD","./fil/build_distance_in_words_locale/index.js":"uq4p","./fil/build_format_locale/index.js":"d7hw","./fil/index.js":"pNfm","./fr/build_distance_in_words_locale/index.js":"IzMR","./fr/build_format_locale/index.js":"I3Zg","./fr/index.js":"LKA2","./hr/build_distance_in_words_locale/index.js":"DPvn","./hr/build_format_locale/index.js":"puw3","./hr/index.js":"L9Jq","./hu/build_distance_in_words_locale/index.js":"w2RQ","./hu/build_format_locale/index.js":"/0iD","./hu/index.js":"Nm+E","./id/build_distance_in_words_locale/index.js":"JbvB","./id/build_format_locale/index.js":"0wlw","./id/index.js":"A6C3","./is/build_distance_in_words_locale/index.js":"qzMC","./is/build_format_locale/index.js":"S3yD","./is/index.js":"N4bE","./it/build_distance_in_words_locale/index.js":"MDEp","./it/build_format_locale/index.js":"aUJd","./it/index.js":"hmb4","./ja/build_distance_in_words_locale/index.js":"nNvt","./ja/build_format_locale/index.js":"buui","./ja/index.js":"uAXs","./ko/build_distance_in_words_locale/index.js":"oEw+","./ko/build_format_locale/index.js":"9SQf","./ko/index.js":"iW8+","./mk/build_distance_in_words_locale/index.js":"nmwZ","./mk/build_format_locale/index.js":"htxJ","./mk/index.js":"GzBU","./nb/build_distance_in_words_locale/index.js":"SL1f","./nb/build_format_locale/index.js":"CJ5F","./nb/index.js":"73vv","./nl/build_distance_in_words_locale/index.js":"Uyu0","./nl/build_format_locale/index.js":"doCD","./nl/index.js":"hCQt","./pl/build_distance_in_words_locale/index.js":"FUBD","./pl/build_format_locale/index.js":"nOYf","./pl/index.js":"B6yL","./pt/build_distance_in_words_locale/index.js":"aTPA","./pt/build_format_locale/index.js":"TTT0","./pt/index.js":"gdks","./ro/build_distance_in_words_locale/index.js":"gI+A","./ro/build_format_locale/index.js":"njjO","./ro/index.js":"r2yp","./ru/build_distance_in_words_locale/index.js":"KmPx","./ru/build_format_locale/index.js":"UUBw","./ru/index.js":"nz/o","./sk/build_distance_in_words_locale/index.js":"q2Bs","./sk/build_format_locale/index.js":"9sxn","./sk/index.js":"Wqan","./sl/build_distance_in_words_locale/index.js":"mlv2","./sl/build_format_locale/index.js":"vHkZ","./sl/index.js":"KYSo","./sr/build_distance_in_words_locale/index.js":"LlkS","./sr/build_format_locale/index.js":"RhjJ","./sr/index.js":"7mU3","./sv/build_distance_in_words_locale/index.js":"UNBN","./sv/build_format_locale/index.js":"zTNB","./sv/index.js":"hxgj","./th/build_distance_in_words_locale/index.js":"XAGa","./th/build_format_locale/index.js":"We2s","./th/index.js":"Pk+z","./tr/build_distance_in_words_locale/index.js":"aFZF","./tr/build_format_locale/index.js":"jh7A","./tr/index.js":"3ZWG","./zh_cn/build_distance_in_words_locale/index.js":"KdB7","./zh_cn/build_format_locale/index.js":"l4EP","./zh_cn/index.js":"8tMq","./zh_tw/build_distance_in_words_locale/index.js":"vyyr","./zh_tw/build_format_locale/index.js":"uYH7","./zh_tw/index.js":"QPlQ"};function o(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id="nw0P"},pL5B:function(e,t,n){"use strict";n.r(t),function(e){var a=n("q1tI"),o=n.n(a),r=n("0cfB"),i=n("IN8/"),c=n("jKe7"),l=n("2INN"),s=(n("M50D"),n("/8/d"),n("jDpt")),d=n("le8I"),u=n("LxW6");t.default=Object(r.hot)(e)(function(){return o.a.createElement(i.a,null,o.a.createElement(s.b,null,o.a.createElement(s.c,null,o.a.createElement(s.a,{className:"app-content"},o.a.createElement(c.a,null,o.a.createElement(l.a,{path:"/",component:u.a})))),o.a.createElement(d.a,null)))})}.call(this,n("3UD+")(e))},pZg0:function(e,t){e.exports={name:"Cozy Document",slug:"documents",icon:"doc.svg",categories:[],version:"1.0.8",licence:"AGPL-3.0",editor:"",source:"https://github.com/cozy/cozy-office.git@build",developer:{name:"edas",url:"https://eric.daspet.name/"},routes:{"/":{folder:"/",index:"index.html",public:!1}},permissions:{apps:{description:"Required by the cozy-bar to display the icons of the apps",type:"io.cozy.apps",verbs:["GET"]},office:{description:"Office documents",type:"io.cozy.office.documents"},Settings:{description:"Settings, to fetch the public name",type:"io.cozy.settings",verbs:["GET"]}}}}});